---
title: 'Updating Evaluator'
description: 'Learn how to update existing evaluators configurations'
---

# Update Evaluator API

Update an existing evaluator's configurations.

## API Endpoint

| Method | Endpoint |
|--------|----------|
| `PATCH` | `https://new-prod.vocera.ai/test_framework/v1/scenarios-external/:scenario-id/` |

## Authentication

Include your API key in the request headers:

| Header | Description |
|--------|-------------|
| `X-VOCERA-API-KEY` | Your API key obtained from the dashboard |

## URL Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `scenario-id` | integer | Yes | The ID of the evaluator to update |

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `name` | string | No | Name of the evaluator |
| `agent` | integer | No | ID of the agent |
| `personality` | integer | No | ID of the personality to use |
| `instructions` | string | No | Instructions for the evaluator |
| `metrics` | array | No | Array of metric IDs |
| `tags` | array | No | Array of tag strings |
| `inbound_phone_number` | integer | No | ID of inbound phone number |
| `first_message` | string | No | Initial message for the conversation |

### Example Request Body

```json
{
  "name": "Customer Service Evaluation - Angry Customer",
  "agent": 123,
  "personality": 456,
  "instructions": "Act as an angry customer who received a defective product. Be persistent but not abusive.",
  "metrics": [789, 790, 791],
  "tags": ["angry_customer", "product_complaint", "high_priority"],
  "inbound_phone_number": 555,
  "first_message": "I need to speak with someone about this broken laptop I received!"
}
```

## Response Format

The API returns detailed information about the updated evaluator.

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | Unique identifier for the evaluator |
| `name` | string | Name of the evaluator |
| `agent` | integer | ID of the associated agent |
| `personality` | integer | ID of the personality used |
| `personality_name` | string | Name of the personality |
| `tags` | array | List of tags associated with the evaluator |
| `retell_agent_id` | string | UUID of the retell agent |
| `runs` | array | List of evaluator run IDs |
| `metrics` | array | List of metric IDs |
| `metric_names` | array | List of human-readable metric names |
| `first_message` | string | Initial message for the conversation |
| `inbound_phone_number` | integer\|null | ID of the inbound phone number (See [inbound numbers](/api-reference/phone-numbers/list-inbound-phone-numbers))|
| `inbound_phone_number_data` | object\|null | Details about the inbound phone number (see below) |
| `instructions` | string | Evaluator instructions |

### Inbound Phone Number Data Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | Internal ID of the phone number record |
| `number` | string | The phone number in E.164 format |
| `phone_number_id` | string | External reference ID for the phone number |

### Example Response

```json
{
    "id": 15,
    "name": "Customer Service Evaluation - Angry Customer",
    "agent": 123,
    "personality": 456,
    "personality_name": "Frustrated Customer Persona",
    "tags": ["angry_customer", "product_complaint", "high_priority"],
    "retell_agent_id": "f16f6561-xxxx-xxxx-xxxx-5fde4dff123f",
    "runs": [501, 502, 503],
    "metrics": [789, 790, 791],
    "metric_names": [
        "Customer Satisfaction Score",
        "Resolution Time",
        "Agent Empathy Rating"
    ],
    "first_message": "I need to speak with someone about this broken laptop I received!",
    "inbound_phone_number": 2,
    "inbound_phone_number_data": {
        "id": 2,
        "number": "+1234567890",
        "phone_number_id": "123"
    },
    "instructions": "Act as an angry customer who received a defective product. Be persistent but not abusive."
}
```

## Code Examples

<CodeGroup>

```bash Curl
curl -X PATCH https://new-prod.vocera.ai/test_framework/v1/scenarios-external/{scenario_id}/ \
  -H "X-VOCERA-API-KEY: <your-api-key-here>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Customer Service Evaluation - Angry Customer",
    "agent": 123,
    "personality": 456,
    "instructions": "Act as an angry customer who received a defective product. Be persistent but not abusive.",
    "metrics": [789, 790, 791],
    "tags": ["angry_customer", "product_complaint", "high_priority"]
  }'
```

```python Python
import requests

def update_evaluator(api_key, scenario_id, **kwargs):
    url = f'https://new-prod.vocera.ai/test_framework/v1/scenarios-external/{scenario_id}/'
    
    headers = {
        'X-VOCERA-API-KEY': api_key,
        'Content-Type': 'application/json'
    }
    
    # Only include non-None values in the request
    data = {k: v for k, v in kwargs.items() if v is not None}

    response = requests.patch(url, headers=headers, json=data)
    return response.json()
```

```javascript JavaScript
async function updateEvaluator(apiKey, scenarioId, updateData) {
  const url = `https://new-prod.vocera.ai/test_framework/v1/scenarios-external/${scenarioId}/`;
  
  const response = await fetch(url, {
    method: 'PATCH',
    headers: {
      'X-VOCERA-API-KEY': apiKey,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(updateData)
  });

  return await response.json();
}
```

</CodeGroup>